@using TreatShop.Models;
@model dynamic;

<h1>Sweet and Savory Treats!</h1>
@if(@Model.Treat.Count == 0 && Model.Flavor.Count == 0)
{
  <p>There are no treats or flavors!</p>
}

else 
{
  <h3>Treats</h3>
  @foreach (var treat in Model.Treat)
  {
    @Html.ActionLink($"{treat.TreatName}", "Details", "Treats", new{id = treat.TreatId})
    <br>
  }
  <h3>Flavors</h3>
  @foreach (var flavor in Model.Flavor)
  {
    @Html.ActionLink($"{flavor.FlavorName}", "Details", "Flavors", new{id = flavor.FlavorId})
    <br>
  }
}

<h3>@User.Identity.Name</h3>
@if (User.Identity.IsAuthenticated)
{
  @using (Html.BeginForm("LogOff", "Account"))
  {
    <input type="submit" class="btn btn-default" value="Log out" />
  }
}
<h3>Navigate</h3>
<p>@Html.ActionLink("View all treats", "Index", "Treats")</p>
<p>@Html.ActionLink("View all flavors", "Index", "Flavors")</p>
<p>@Html.ActionLink("Register", "Index", "Account")</p>